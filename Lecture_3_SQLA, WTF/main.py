from flask import Flask
from Lecture_3.models import db, User, Post, Comment

app = Flask(__name__)

app.config["SQLALCHEMY_DATABASE_URI"] = "sqlite:///mydatabase.db"
db.init_app(app)

"""‚û¢–°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

–û—Å—Ç–∞–ª—Å—è —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —ç—Ç–∞–ø. –ù–∞–ø–∏—à–∏–º —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–∑–¥–∞—Å—Ç —Ç–∞–±–ª–∏—Ü—ã —á–µ—Ä–µ–∑
–∫–æ–Ω—Å–æ–ª—å–Ω—É—é –∫–æ–º–∞–Ω–¥—É. –ó–∞–ø–æ–ª–Ω—è–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –ø—Ä–æ–µ–∫—Ç–∞"""


@app.cli.command("init-db")
def init_db():
    db.create_all()
    print("OK")  # –ø—Ä–æ—Å—Ç–æ —á—Ç–æ–± –ø–æ–Ω—è—Ç—å, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç—Ä–∞–±–æ—Ç–∞–ª–∞


"""–ò–∑ models –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª–∏ –≤—Å–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã —Ç–∞–±–ª–∏—Ü. –ë–µ–∑ —ç—Ç–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞
—Ñ—É–Ω–∫—Ü–∏—è create_all –º–æ–∂–µ—Ç –Ω–µ —É–≤–∏–¥–µ—Ç—å –∫–∞–∫–∏–µ —Ç–∞–±–ª–∏—Ü—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å (–¢.–µ. —è–≤–Ω–æ 
–≤ –∫–æ–¥–µ –º—ã —ç—Ç–∏ –∫–ª–∞—Å—Å—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö).
–î–∞–ª–µ–µ —Å–æ–∑–¥–∞–ª–∏ —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω–∞ –∫–æ–º–∞–Ω–¥–æ–π –≤ –∫–æ–Ω—Å–æ–ª–∏:

# flask init-db

"""
"""üî• –í–Ω–∏–º–∞–Ω–∏–µ! –ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏ –≤—ã–¥–∞–µ—Ç –æ—à–∏–±–∫—É, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —É –≤–∞—Å
–µ—Å—Ç—å wsgi.py —Ñ–∞–π–ª –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –æ–Ω –≤–µ—Ä–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç.

–ù–∞–ø—Ä–∏–º–µ—Ä –µ–≥–æ –∫–æ–¥ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–∞–∫–∏–º:

from flask_lesson_3.app_01 import app

if __name__ == '__main__':
app.run(debug=True)
"""

"""–ú—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏ –æ—Å–Ω–æ–≤–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è –º–æ–¥–µ–ª–µ–π –≤ Flask-SQLAlchemy. –ë—ã–ª–∏
–æ–ø–∏—Å–∞–Ω—ã –∫–ª–∞—Å—Å—ã –º–æ–¥–µ–ª–µ–π, –ø–æ–ª—è –º–æ–¥–µ–ª–µ–π –∏ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–≤—è–∑–µ–π –º–µ–∂–¥—É –º–æ–¥–µ–ª—è–º–∏.
"""
